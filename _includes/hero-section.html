<!-- hero area -->
<section class="hero-area" id="parallax">
  <div class="container">
    <div class="row">
      <img
        class="layer-bg2"
        id="hero-bg"
        src="{{ site.baseurl }}/assets/images/illustrations/5376728_1.jpg"
        alt="bg-shape"
      />
      <div class="col-lg-11 mx-auto">
        <h1 class="hero-title font-tertiary">{{ site.data.settings.hero.hero-title }}</h1>
      </div>
    </div>
  </div>

  <!-- social icon -->
  <ul class="list-unstyled ml-5 mt-3 position-relative zindex-1">
    {% for social in site.data.settings.social %}
    <li class="mb-3">
      <a class="hero-icon" href="{{ social.link }}">
        <i class="{{ social.icon }}"></i>
      </a>
    </li>
    {% endfor %}
  </ul>
</section>
<!-- /hero area -->


<script>
document.addEventListener("DOMContentLoaded", () => {
  const heroImg = document.getElementById("hero-bg");
  if (!heroImg) return;

  heroImg.style.display = "block";
  heroImg.style.opacity = 1;
  heroImg.style.transition = "opacity 0.6s ease-in-out";

  let changed = false;
  let ticking = false;

  window.addEventListener("scroll", () => {
    console.log("scrollY:", window.scrollY);
    if (!ticking) {
      window.requestAnimationFrame(() => {
        const scrollY = window.scrollY;
        const threshold = window.innerHeight * 0.4; // 화면 40% 지점에서 전환

        if (scrollY > threshold && !changed) {
          changed = true;
          heroImg.style.opacity = 0;
          setTimeout(() => {
            heroImg.src = "/assets/images/illustrations/5376728_2.jpg";

            heroImg.style.opacity = 1;
          }, 300);
        } else if (scrollY <= threshold && changed) {
          changed = false;
          heroImg.style.opacity = 0;
          setTimeout(() => {
            heroImg.src = "/assets/images/illustrations/5376728_1.jpg";

            heroImg.style.opacity = 1;
          }, 300);
        }

        ticking = false;
      });
      ticking = true;
    }
  });
});
</script>
